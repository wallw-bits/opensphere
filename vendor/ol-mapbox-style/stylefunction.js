window.parseMapboxStyle=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function i(t,e){if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0}function r(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=n(6),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function l(t){return Object.prototype.toString.call(t)}function c(t){return!r(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var p=t.exports=g,f=/\s*function\s+([^\(\s]*)\s*/;function d(t){if(o.isFunction(t)){if(u)return t.name;var e=t.toString().match(f);return e&&e[1]}}function y(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function m(t){if(u||!o.isFunction(t))return o.inspect(t);var e=d(t);return"[Function"+(e?": "+e:"")+"]"}function h(t,e,n,i,r){throw new p.AssertionError({message:n,actual:t,expected:e,operator:i,stackStartFunction:r})}function g(t,e){t||h(t,!0,e,"==",p.ok)}function v(t,e,n,a){if(t===e)return!0;if(r(t)&&r(e))return 0===i(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(c(t)&&c(e)&&l(t)===l(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(r(t)!==r(e))return!1;var u=(a=a||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===a.expected.indexOf(e)||(a.actual.push(t),a.expected.push(e),function(t,e,n,i){if(null===t||void 0===t||null===e||void 0===e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var r=b(t),a=b(e);if(r&&!a||!r&&a)return!1;if(r)return t=s.call(t),e=s.call(e),v(t,e,n);var u,l,c=k(t),p=k(e);if(c.length!==p.length)return!1;for(c.sort(),p.sort(),l=c.length-1;l>=0;l--)if(c[l]!==p[l])return!1;for(l=c.length-1;l>=0;l--)if(u=c[l],!v(t[u],e[u],n,i))return!1;return!0}(t,e,n,a))}return n?t===e:t==e}function b(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function x(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function w(t,e,n,i){var r;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),r=function(t){var e;try{t()}catch(t){e=t}return e}(e),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),t&&!r&&h(r,n,"Missing expected exception"+i);var a="string"==typeof i,s=!t&&o.isError(r),u=!t&&r&&!n;if((s&&a&&x(r,n)||u)&&h(r,n,"Got unwanted exception"+i),t&&r&&n&&!x(r,n)||!t&&r)throw r}p.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return y(m(t.actual),128)+" "+t.operator+" "+y(m(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||h;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var i=n.stack,r=d(e),o=i.indexOf("\n"+r);if(o>=0){var a=i.indexOf("\n",o+1);i=i.substring(a+1)}this.stack=i}}},o.inherits(p.AssertionError,Error),p.fail=h,p.ok=g,p.equal=function(t,e,n){t!=e&&h(t,e,n,"==",p.equal)},p.notEqual=function(t,e,n){t==e&&h(t,e,n,"!=",p.notEqual)},p.deepEqual=function(t,e,n){v(t,e,!1)||h(t,e,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(t,e,n){v(t,e,!0)||h(t,e,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(t,e,n){v(t,e,!1)&&h(t,e,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function t(e,n,i){v(e,n,!0)&&h(e,n,i,"notDeepStrictEqual",t)},p.strictEqual=function(t,e,n){t!==e&&h(t,e,n,"===",p.strictEqual)},p.notStrictEqual=function(t,e,n){t===e&&h(t,e,n,"!==",p.notStrictEqual)},p.throws=function(t,e,n){w(!0,t,e,n)},p.doesNotThrow=function(t,e,n){w(!1,t,e,n)},p.ifError=function(t){if(t)throw t};var k=Object.keys||function(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e}}).call(this,n(1))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},i=/(italic|oblique)$/i,r={};t.exports=function(t,e){var o=r[t];if(!o){Array.isArray(t)||(t=[t]);for(var a="normal",s="normal",u=[],l=0,c=t.length;l<c;++l){var p=t[l].split(" "),f=p[p.length-1].toLowerCase();for(var d in"normal"==f||"italic"==f||"oblique"==f?(s=f,p.pop(),f=p[p.length-1].toLowerCase()):i.test(f)&&(f=f.replace(i,""),s=p[p.length-1].replace(f,"")),n)if(f==d||f==d.replace("-","")||f==d.replace("-"," ")){a=n[d],p.pop();break}"number"==typeof f&&(a=f);var y=p.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==y.indexOf(" ")&&(y='"'+y+'"'),u.push(y)}o=r[t]=[s,a,u]}return o[0]+" "+o[1]+" "+e+"px "+o[2]}},function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(t){return(t=Math.round(t))<0?0:t>255?255:t}function r(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?i(parseFloat(t)/100*255):i(parseInt(t))}function a(t){return"%"===t[t.length-1]?r(parseFloat(t)/100):r(parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,r=t.replace(/ /g,"").toLowerCase();if(r in n)return n[r].slice();if("#"===r[0])return 4===r.length?(e=parseInt(r.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===r.length&&(e=parseInt(r.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=r.indexOf("("),l=r.indexOf(")");if(-1!==u&&l+1===r.length){var c=r.substr(0,u),p=r.substr(u+1,l-(u+1)).split(","),f=1;switch(c){case"rgba":if(4!==p.length)return null;f=a(p.pop());case"rgb":return 3!==p.length?null:[o(p[0]),o(p[1]),o(p[2]),f];case"hsla":if(4!==p.length)return null;f=a(p.pop());case"hsl":if(3!==p.length)return null;var d=(parseFloat(p[0])%360+360)%360/360,y=a(p[1]),m=a(p[2]),h=m<=.5?m*(y+1):m+y-m*y,g=2*m-h;return[i(255*s(g,h,d+1/3)),i(255*s(g,h,d)),i(255*s(g,h,d-1/3)),f];default:return null}}return null}}catch(t){}},function(t,e){function n(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=i,this.p2x=n,this.p2y=i}t.exports=n,n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var n,i,r,o,a;for(void 0===e&&(e=1e-6),r=t,a=0;a<8;a++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if(i=1,(r=t)<(n=0))return n;if(r>i)return i;for(;n<i;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?n=r:i=r,r=.5*(i-n)+n}return r},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},function(t){t.exports={layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"data-driven styling":{}}},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"data-driven styling":{}}},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"data-driven styling":{}}},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{}}},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"data-driven styling":{}}},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"data-driven styling":{}}},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}}}},paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{}}},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{}}},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{}}},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"line-gradient":{type:"color",function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0"},"data-driven styling":{}}}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"data-driven styling":{}}},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{}}},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}}},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}}},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}}}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!1,units:"milliseconds","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,function:"interpolated","zoom-function":!0,transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}}},"hillshade-illumination-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}}},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}}},"hillshade-shadow-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}}},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}}},"hillshade-accent-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}}}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}}}},function(t,e,n){(function(t,i){var r=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),u=i[n];n<o;u=i[++n])m(u)||!x(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,r){if(v(t.process))return function(){return e.deprecate(n,r).apply(this,arguments)};if(!0===i.noDeprecation)return n;var o=!1;return function(){if(!o){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var o,a={};function s(t,n){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),y(n)?i.showHidden=n:n&&e._extend(i,n),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),c(i,t,i.depth)}function u(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function l(t,e){return t}function c(t,n,i){if(t.customInspect&&n&&j(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return g(r)||(r=c(t,r,i)),r}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(h(e))return t.stylize(""+e,"number");if(y(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),k(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(j(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return p(n)}var l,x="",z=!1,E=["{","}"];(d(n)&&(z=!0,E=["[","]"]),j(n))&&(x=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(x=" "+RegExp.prototype.toString.call(n)),w(n)&&(x=" "+Date.prototype.toUTCString.call(n)),k(n)&&(x=" "+p(n)),0!==a.length||z&&0!=n.length?i<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=z?function(t,e,n,i,r){for(var o=[],a=0,s=e.length;a<s;++a)q(e,String(a))?o.push(f(t,e,n,i,String(a),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(t,e,n,i,r,!0))}),o}(t,n,i,s,a):a.map(function(e){return f(t,n,i,s,e,z)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,x,E)):E[0]+x+E[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,i,r,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),q(i,r)||(a="["+r+"]"),s||(t.seen.indexOf(u.value)<0?(s=m(n)?c(t,u.value,null):c(t,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),v(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function m(t){return null===t}function h(t){return"number"==typeof t}function g(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return x(t)&&"[object RegExp]"===z(t)}function x(t){return"object"==typeof t&&null!==t}function w(t){return x(t)&&"[object Date]"===z(t)}function k(t){return x(t)&&("[object Error]"===z(t)||t instanceof Error)}function j(t){return"function"==typeof t}function z(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(v(o)&&(o=i.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=i.pid;a[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else a[t]=function(){};return a[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=y,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=h,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.isObject=x,e.isDate=w,e.isError=k,e.isFunction=j,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(8);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",function(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}(),e.format.apply(e,arguments))},e.inherits=n(9),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,n(1),n(7))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,l=[],c=!1,p=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):p=-1,l.length&&d())}function d(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++p<e;)u&&u[p].run();p=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new y(t,e)),1!==l.length||c||s(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"number",function(){return f}),n.d(i,"color",function(){return d}),n.d(i,"array",function(){return y});var r={};n.r(r),n.d(r,"lab",function(){return $}),n.d(r,"hcl",function(){return _});var o=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function a(t,e){const n={};for(const e in t)"ref"!==e&&(n[e]=t[e]);return o.forEach(t=>{t in e&&(n[t]=e[t])}),n}var s=function(t){t=t.slice();const e=Object.create(null);for(let n=0;n<t.length;n++)e[t[n].id]=t[n];for(let n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=a(t[n],e[t[n].ref]));return t};var u=n(5),l=n(3);class c{constructor(t,e,n,i=1){this.r=t,this.g=e,this.b=n,this.a=i}static parse(t){if(!t)return;if(t instanceof c)return t;if("string"!=typeof t)return;const e=Object(l.parseCSSColor)(t);return e?new c(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]):void 0}toString(){const[t,e,n,i]=this.toArray();return`rgba(${Math.round(t)},${Math.round(e)},${Math.round(n)},${i})`}toArray(){const{r:t,g:e,b:n,a:i}=this;return 0===i?[0,0,0,0]:[255*t/i,255*e/i,255*n/i,i]}}c.black=new c(0,0,0,1),c.white=new c(1,1,1,1),c.transparent=new c(0,0,0,0);var p=c;function f(t,e,n){return t*(1-n)+e*n}function d(t,e,n){return new p(f(t.r,e.r,n),f(t.g,e.g,n),f(t.b,e.b,n),f(t.a,e.a,n))}function y(t,e,n){return t.map((t,i)=>f(t,e[i],n))}const m=.95047,h=1,g=1.08883,v=4/29,b=6/29,x=3*b*b,w=b*b*b,k=Math.PI/180,j=180/Math.PI;function z(t){return t>w?Math.pow(t,1/3):t/x+v}function E(t){return t>b?t*t*t:x*(t-v)}function O(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function q(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function S(t){const e=q(t.r),n=q(t.g),i=q(t.b),r=z((.4124564*e+.3575761*n+.1804375*i)/m),o=z((.2126729*e+.7151522*n+.072175*i)/h);return{l:116*o-16,a:500*(r-o),b:200*(o-z((.0193339*e+.119192*n+.9503041*i)/g)),alpha:t.a}}function A(t){let e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,i=isNaN(t.b)?e:e-t.b/200;return e=h*E(e),n=m*E(n),i=g*E(i),new p(O(3.2404542*n-1.5371385*e-.4985314*i),O(-.969266*n+1.8760108*e+.041556*i),O(.0556434*n-.2040259*e+1.0572252*i),t.alpha)}const $={forward:S,reverse:A,interpolate:function(t,e,n){return{l:f(t.l,e.l,n),a:f(t.a,e.a,n),b:f(t.b,e.b,n),alpha:f(t.alpha,e.alpha,n)}}},_={forward:function(t){const{l:e,a:n,b:i}=S(t),r=Math.atan2(i,n)*j;return{h:r<0?r+360:r,c:Math.sqrt(n*n+i*i),l:e,alpha:t.a}},reverse:function(t){const e=t.h*k,n=t.c;return A({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:function(t,e,n){const i=e-t;return t+n*(i>180||i<-180?i-360*Math.round(i/360):i)}(t.h,e.h,n),c:f(t.c,e.c,n),l:f(t.l,e.l,n),alpha:f(t.alpha,e.alpha,n)}}};var T=function(t,...e){for(const n of e)for(const e in n)t[e]=n[e];return t};var C=n(4),M=n.n(C);const N={kind:"null"},I={kind:"number"},P={kind:"string"},F={kind:"boolean"},D={kind:"color"},U={kind:"object"},B={kind:"value"},L={kind:"collator"};function J(t,e){return{kind:"array",itemType:t,N:e}}function H(t){if("array"===t.kind){const e=H(t.itemType);return"number"==typeof t.N?`array<${e}, ${t.N}>`:"value"===t.itemType.kind?"array":`array<${e}>`}return t.kind}const R=[N,I,P,F,D,U,J(B)];function V(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&!V(t.itemType,e.itemType)&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(const t of R)if(!V(t,e))return null}return`Expected ${H(t)} but found ${H(e)} instead.`}var X=class{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}};function G(t,e){let n,i,r=0,o=t.length-1,a=0;for(;r<=o;){if(n=t[a=Math.floor((r+o)/2)],i=t[a+1],e===n||e>n&&e<i)return a;if(n<e)r=a+1;else{if(!(n>e))throw new X("Input is not a number.");o=a-1}}return Math.max(a-1,0)}class W{constructor(t,e,n,i){this.type=t,this.interpolation=e,this.input=n,this.labels=[],this.outputs=[];for(const[t,e]of i)this.labels.push(t),this.outputs.push(e)}static interpolationFactor(t,e,n,i){let r=0;if("exponential"===t.name)r=Y(e,t.base,n,i);else if("linear"===t.name)r=Y(e,1,n,i);else if("cubic-bezier"===t.name){const o=t.controlPoints;r=new M.a(o[0],o[1],o[2],o[3]).solve(Y(e,1,n,i))}return r}static parse(t,e){let[,n,i,...r]=t;if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const t=n[1];if("number"!=typeof t)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:t}}else{if("cubic-bezier"!==n[0])return e.error(`Unknown interpolation type ${String(n[0])}`,1,0);{const t=n.slice(1);if(4!==t.length||t.some(t=>"number"!=typeof t||t<0||t>1))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:t}}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,I)))return null;const o=[];let a=null;e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType);for(let t=0;t<r.length;t+=2){const n=r[t],i=r[t+1],s=t+3,u=t+4;if("number"!=typeof n)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(o.length&&o[o.length-1][0]>=n)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',s);const l=e.parse(i,u,a);if(!l)return null;a=a||l.type,o.push([n,l])}return"number"===a.kind||"color"===a.kind||"array"===a.kind&&"number"===a.itemType.kind&&"number"==typeof a.N?new W(a,n,i,o):e.error(`Type ${H(a)} is not interpolatable.`)}evaluate(t){const e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);const r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);const o=e.length;if(r>=e[o-1])return n[o-1].evaluate(t);const a=G(e,r),s=e[a],u=e[a+1],l=W.interpolationFactor(this.interpolation,r,s,u),c=n[a].evaluate(t),p=n[a+1].evaluate(t);return i[this.type.kind.toLowerCase()](c,p,l)}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}possibleOutputs(){return[].concat(...this.outputs.map(t=>t.possibleOutputs()))}serialize(){let t;const e=["interpolate",t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints),this.input.serialize()];for(let t=0;t<this.labels.length;t++)e.push(this.labels[t],this.outputs[t].serialize());return e}}function Y(t,e,n,i){const r=i-n,o=t-n;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}var Z=W;function K(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}var Q=n(0),tt=n.n(Q),et=function(t,e){let n,i;void 0!==(t=T({},t)).default?i=nt(t.default,e):null===(i=nt(e.default,e))&&(i=["error","No default property value available."]);if(t.stops){const r=t.stops&&"object"==typeof t.stops[0][0],o=r||void 0!==t.property,a=r||!o,s=t.stops.map(t=>!o&&e.tokens&&"string"==typeof t[1]?[t[0],function(t){const e=["concat"],n=/{([^{}]+)}/g;let i,r=0;for(;null!==(i=n.exec(t));){const o=t.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&e.push(o),e.push(["to-string",["get",i[1]]])}if(1===e.length)return t;if(r<t.length)e.push(t.slice(r));else if(2===e.length)return e[1];return e}(t[1])]:[t[0],nt(t[1],e)]);if(t.colorSpace&&"rgb"!==t.colorSpace)throw new Error("Unimplemented");n=r?function(t,e,n,i){const r={},o={},a=[];for(let e=0;e<n.length;e++){const i=n[e],s=i[0].zoom;void 0===r[s]&&(r[s]={zoom:s,type:t.type,property:t.property,default:t.default},o[s]=[],a.push(s)),o[s].push([i[0].value,i[1]])}if("exponential"===at({},e)){const t=["interpolate",["linear"],["zoom"]];for(const n of a){const a=it(r[n],e,o[n],i);ot(t,n,a,!1)}return t}{const t=["step",["zoom"]];for(const n of a){const a=it(r[n],e,o[n],i);ot(t,n,a,!0)}return rt(t),t}}(t,e,s,i):a?function(t,e,n,i=["zoom"]){const r=at(t,e);let o,a=!1;if("interval"===r)o=["step",i],a=!0;else{if("exponential"!==r)throw new Error(`Unknown zoom function type "${r}"`);{const e=void 0!==t.base?t.base:1;o=["interpolate",["exponential",e],i]}}for(const t of n)ot(o,t[0],t[1],a);return rt(o),o}(t,e,s):it(t,e,s,i)}else n=function(t,e,n){const i=["get",t.property];return"color"===e.type?void 0===t.default?i:["to-color",i,t.default]:"array"===e.type&&"number"==typeof e.length?["array",e.value,e.length,i]:"array"===e.type?["array",e.value,i]:"enum"===e.type?["let","property_value",["string",i],["match",["var","property_value"],Object.keys(e.values),["var","property_value"],n]]:void 0===t.default?i:[e.type,i,t.default]}(t,e,i);return n};function nt(t,e){return void 0===t||null===t?null:"color"===e.type?t:"array"===e.type?["literal",t]:t}function it(t,e,n,i){const r=at(t,e),o=typeof n[0][0];tt()("string"===o||"number"===o||"boolean"===o);let a,s=[o,["get",t.property]],u=!1;if("categorical"===r&&"boolean"===o)return tt()(t.stops.length>0&&t.stops.length<=2),!1===t.stops[0][0]&&(s=["!",s]),a=["case",s,t.stops[0][1]],t.stops.length>1?a.push(t.stops[1][1]):a.push(i),a;if("categorical"===r)a=["match",s];else if("interval"===r)a=["step",s],u=!0;else{if("exponential"!==r)throw new Error(`Unknown property function type ${r}`);a=["interpolate",["exponential",void 0!==t.base?t.base:1],s]}for(const t of n)ot(a,t[0],t[1],u);return"match"===a[0]&&a.push(i),rt(a),a}function rt(t){"step"===t[0]&&3===t.length&&(t.push(0),t.push(t[3]))}function ot(t,e,n,i){t.length>3&&e===t[t.length-2]||(i&&2===t.length||t.push(e),t.push(n))}function at(t,e){return t.type?t.type:e.function?"interpolated"===e.function?"exponential":"interval":"exponential"}var st=class extends Error{constructor(t,e){super(e),this.message=e,this.key=t}};class ut{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[t,n]of e)this.bindings[t]=n}concat(t){return new ut(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var lt=ut;class ct{constructor(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class pt{constructor(t,e,n){this.type=L,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e}static parse(t,e){if(2!==t.length)return e.error("Expected one argument.");const n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");const i=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,F);if(!i)return null;const r=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,F);if(!r)return null;let o=null;return n.locale&&!(o=e.parse(n.locale,1,P))?null:new pt(i,r,o)}evaluate(t){return new ct(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}possibleOutputs(){return[void 0]}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}function ft(t,e,n,i){if(!("number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255)){return`Invalid rgba value [${("number"==typeof i?[t,e,n,i]:[t,e,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return void 0===i||"number"==typeof i&&i>=0&&i<=1?null:`Invalid rgba value [${[t,e,n,i].join(", ")}]: 'a' must be between 0 and 1.`}function dt(t){if(null===t)return N;if("string"==typeof t)return P;if("boolean"==typeof t)return F;if("number"==typeof t)return I;if(t instanceof p)return D;if(t instanceof ct)return L;if(Array.isArray(t)){const e=t.length;let n;for(const e of t){const t=dt(e);if(n){if(n===t)continue;n=B;break}n=t}return J(n||B,e)}return tt()("object"==typeof t),U}class yt{constructor(t,e){this.type=t,this.value=e}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof p)return!0;if(e instanceof ct)return!0;if(Array.isArray(e)){for(const n of e)if(!t(n))return!1;return!0}if("object"==typeof e){for(const n in e)if(!t(e[n]))return!1;return!0}return!1}(t[1]))return e.error("invalid value");const n=t[1];let i=dt(n);const r=e.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new yt(i,n)}evaluate(){return this.value}eachChild(){}possibleOutputs(){return[this.value]}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof p?["rgba"].concat(this.value.toArray()):(tt()(null===this.value||"string"==typeof this.value||"number"==typeof this.value||"boolean"==typeof this.value),this.value)}}var mt=yt;const ht={string:P,number:I,boolean:F,object:U};class gt{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[0];tt()(ht[n],n);const i=ht[n],r=[];for(let n=1;n<t.length;n++){const i=e.parse(t[n],n,B);if(!i)return null;r.push(i)}return new gt(i,r)}evaluate(t){for(let e=0;e<this.args.length;e++){const n=this.args[e].evaluate(t);if(!V(this.type,dt(n)))return n;if(e===this.args.length-1)throw new X(`Expected value to be of type ${H(this.type)}, but found ${H(dt(n))} instead.`)}return tt()(!1),null}eachChild(t){this.args.forEach(t)}possibleOutputs(){return[].concat(...this.args.map(t=>t.possibleOutputs()))}serialize(){return[this.type.kind].concat(this.args.map(t=>t.serialize()))}}var vt=gt;const bt={string:P,number:I,boolean:F};class xt{constructor(t,e){this.type=t,this.input=e}static parse(t,e){if(t.length<2||t.length>4)return e.error(`Expected 1, 2, or 3 arguments, but found ${t.length-1} instead.`);let n,i;if(t.length>2){const i=t[1];if("string"!=typeof i||!(i in bt))return e.error('The item type argument of "array" must be one of string, number, boolean',1);n=bt[i]}else n=B;if(t.length>3){if("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2]))return e.error('The length argument to "array" must be a positive integer literal',2);i=t[2]}const r=J(n,i),o=e.parse(t[t.length-1],t.length-1,B);return o?new xt(r,o):null}evaluate(t){const e=this.input.evaluate(t);if(V(this.type,dt(e)))throw new X(`Expected value to be of type ${H(this.type)}, but found ${H(dt(e))} instead.`);return e}eachChild(t){t(this.input)}possibleOutputs(){return this.input.possibleOutputs()}serialize(){const t=["array"],e=this.type.itemType;if("string"===e.kind||"number"===e.kind||"boolean"===e.kind){t.push(e.kind);const n=this.type.N;"number"==typeof n&&t.push(n)}return t.push(this.input.serialize()),t}}var wt=xt;const kt={"to-number":I,"to-color":D};class jt{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[0];tt()(kt[n],n);const i=kt[n],r=[];for(let n=1;n<t.length;n++){const i=e.parse(t[n],n,B);if(!i)return null;r.push(i)}return new jt(i,r)}evaluate(t){if("color"===this.type.kind){let e,n;for(const i of this.args)if(e=i.evaluate(t),n=null,"string"==typeof e){const n=t.parseColor(e);if(n)return n}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:ft(e[0],e[1],e[2],e[3])))return new p(e[0]/255,e[1]/255,e[2]/255,e[3]);throw new X(n||`Could not parse color from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}{let e=null;for(const n of this.args){if(null===(e=n.evaluate(t)))continue;const i=Number(e);if(!isNaN(i))return i}throw new X(`Could not convert ${JSON.stringify(e)} to number.`)}}eachChild(t){this.args.forEach(t)}possibleOutputs(){return[].concat(...this.args.map(t=>t.possibleOutputs()))}serialize(){const t=[`to-${this.type.kind}`];return this.eachChild(e=>{t.push(e.serialize())}),t}}var zt=jt;const Et=["Unknown","Point","LineString","Polygon"];var Ot=class{constructor(){this._parseColorCache={}}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Et[this.feature.type]:this.feature.type:null}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=p.parse(t)),e}};class qt{constructor(t,e,n,i){this.name=t,this.type=e,this._evaluate=n,this.args=i}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}possibleOutputs(){return[void 0]}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,e){const n=t[0],i=qt.definitions[n];if(!i)return e.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=o.filter(([e])=>!Array.isArray(e)||e.length===t.length-1),s=[];for(let n=1;n<t.length;n++){const i=t[n];let r;if(1===a.length){const t=a[0][0];r=Array.isArray(t)?t[n-1]:t.type}const o=e.parse(i,1+s.length,r);if(!o)return null;s.push(o)}let u=null;for(const[t,i]of a)if(u=new Mt(e.registry,e.path,null,e.scope),Array.isArray(t)&&t.length!==s.length)u.error(`Expected ${t.length} arguments, but found ${s.length} instead.`);else{for(let e=0;e<s.length;e++){const n=Array.isArray(t)?t[e]:t.type,i=s[e];u.concat(e+1).checkSubtype(n,i.type)}if(0===u.errors.length)return new qt(n,r,i,s)}if(tt()(!u||u.errors.length>0),1===a.length)e.errors.push.apply(e.errors,u.errors);else{const t=(a.length?a:o).map(([t])=>(function(t){return Array.isArray(t)?`(${t.map(H).join(", ")})`:`(${H(t.type)}...)`})(t)).join(" | "),n=s.map(t=>H(t.type)).join(", ");e.error(`Expected arguments of type ${t}, but found (${n}) instead.`)}return null}static register(t,e){tt()(!qt.definitions),qt.definitions=e;for(const n in e)t[n]=qt}}var St=qt;function At(t){if(t instanceof St){if("get"===t.name&&1===t.args.length)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}let e=!0;return t.eachChild(t=>{e&&!At(t)&&(e=!1)}),e}function $t(t,e){if(t instanceof St&&e.indexOf(t.name)>=0)return!1;let n=!0;return t.eachChild(t=>{n&&!$t(t,e)&&(n=!1)}),n}class _t{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e}static parse(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");const n=t[1];return e.scope.has(n)?new _t(n,e.scope.get(n)):e.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}possibleOutputs(){return[void 0]}serialize(){return["var",this.name]}}var Tt=_t;class Ct{constructor(t,e=[],n,i=new lt,r=[]){this.registry=t,this.path=e,this.key=e.map(t=>`[${t}]`).join(""),this.scope=i,this.errors=r,this.expectedType=n}parse(t,e,n,i,r={}){return e?this.concat(e,n,i)._parse(t,r):this._parse(t,r)}_parse(t,e){if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=t[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[n];if(i){let n=i.parse(t,this);if(!n)return null;if(this.expectedType){const t=this.expectedType,i=n.type;if("string"!==t.kind&&"number"!==t.kind&&"boolean"!==t.kind&&"object"!==t.kind||"value"!==i.kind)if("array"===t.kind&&"value"===i.kind)e.omitTypeAnnotations||(n=new wt(t,n));else if("color"!==t.kind||"value"!==i.kind&&"string"!==i.kind){if(this.checkSubtype(this.expectedType,n.type))return null}else e.omitTypeAnnotations||(n=new zt(t,[n]));else e.omitTypeAnnotations||(n=new vt(t,[n]))}if(!(n instanceof mt)&&function t(e){if(e instanceof Tt)return t(e.boundExpression);if(e instanceof St&&"error"===e.name)return!1;if(e instanceof pt)return!1;const n=e instanceof zt||e instanceof vt||e instanceof wt;let i=!0;e.eachChild(e=>{i=n?i&&t(e):i&&e instanceof mt});if(!i)return!1;return At(e)&&$t(e,["zoom","heatmap-density","line-progress","is-supported-script"])}(n)){const t=new Ot;try{n=new mt(n.type,n.evaluate(t))}catch(t){return this.error(t.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof t} instead.`)}concat(t,e,n){const i="number"==typeof t?this.path.concat(t):this.path,r=n?this.scope.concat(n):this.scope;return new Ct(this.registry,i,e||null,r,this.errors)}error(t,...e){const n=`${this.key}${e.map(t=>`[${t}]`).join("")}`;this.errors.push(new st(n,t))}checkSubtype(t,e){const n=V(t,e);return n&&this.error(n),n}}var Mt=Ct;class Nt{constructor(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[t,e]of n)this.labels.push(t),this.outputs.push(e)}static parse(t,e){let[,n,...i]=t;if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,1,I)))return null;const r=[];let o=null;e.expectedType&&"value"!==e.expectedType.kind&&(o=e.expectedType),i.unshift(-1/0);for(let t=0;t<i.length;t+=2){const n=i[t],a=i[t+1],s=t+1,u=t+2;if("number"!=typeof n)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(r.length&&r[r.length-1][0]>=n)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const l=e.parse(a,u,o);if(!l)return null;o=o||l.type,r.push([n,l])}return new Nt(o,n,r)}evaluate(t){const e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);const i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);const r=e.length;return i>=e[r-1]?n[r-1].evaluate(t):n[G(e,i)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}possibleOutputs(){return[].concat(...this.outputs.map(t=>t.possibleOutputs()))}serialize(){const t=["step",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}var It=Nt;class Pt{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expectected at least one argument.");let n=null;const i=e.expectedType;i&&"value"!==i.kind&&(n=i);const r=[];for(const i of t.slice(1)){const t=e.parse(i,1+r.length,n,void 0,{omitTypeAnnotations:!0});if(!t)return null;n=n||t.type,r.push(t)}tt()(n);const o=i&&r.some(t=>V(i,t.type));return new Pt(o?B:n,r)}evaluate(t){let e=null;for(const n of this.args)if(null!==(e=n.evaluate(t)))break;return e}eachChild(t){this.args.forEach(t)}possibleOutputs(){return[].concat(...this.args.map(t=>t.possibleOutputs()))}serialize(){const t=["coalesce"];return this.eachChild(e=>{t.push(e.serialize())}),t}}var Ft=Pt;class Dt{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result)}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const n=[];for(let i=1;i<t.length-1;i+=2){const r=t[i];if("string"!=typeof r)return e.error(`Expected string, but found ${typeof r} instead.`,i);if(/[^a-zA-Z0-9_]/.test(r))return e.error("Variable names must contain only alphanumeric characters or '_'.",i);const o=e.parse(t[i+1],i+1);if(!o)return null;n.push([r,o])}const i=e.parse(t[t.length-1],t.length-1,void 0,n);return i?new Dt(n,i):null}possibleOutputs(){return this.result.possibleOutputs()}serialize(){const t=["let"];for(const[e,n]of this.bindings)t.push(e,n.serialize());return t.push(this.result.serialize()),t}}var Ut=Dt;class Bt{constructor(t,e,n){this.type=t,this.index=e,this.input=n}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,I),i=e.parse(t[2],2,J(e.expectedType||B));if(!n||!i)return null;const r=i.type;return new Bt(r.itemType,n,i)}evaluate(t){const e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new X(`Array index out of bounds: ${e} < 0.`);if(e>=n.length)throw new X(`Array index out of bounds: ${e} > ${n.length-1}.`);if(e!==Math.floor(e))throw new X(`Array index must be an integer, but found ${e} instead.`);return n[e]}eachChild(t){t(this.index),t(this.input)}possibleOutputs(){return[void 0]}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Lt=Bt;class Jt{constructor(t,e,n,i,r,o){this.inputType=t,this.type=e,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error("Expected an even number of arguments.");let n,i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);const r={},o=[];for(let a=2;a<t.length-1;a+=2){let s=t[a];const u=t[a+1];Array.isArray(s)||(s=[s]);const l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(const t of s){if("number"!=typeof t&&"string"!=typeof t)return l.error("Branch labels must be numbers or strings.");if("number"==typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return l.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof t&&Math.floor(t)!==t)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,dt(t)))return null}else n=dt(t);if(void 0!==r[String(t)])return l.error("Branch labels must be unique.");r[String(t)]=o.length}const c=e.parse(u,a,i);if(!c)return null;i=i||c.type,o.push(c)}const a=e.parse(t[1],1,n);if(!a)return null;const s=e.parse(t[t.length-1],t.length-1,i);return s?(tt()(n&&i),new Jt(n,i,a,r,o,s)):null}evaluate(t){const e=this.input.evaluate(t);return(this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}possibleOutputs(){return[].concat(...this.outputs.map(t=>t.possibleOutputs())).concat(this.otherwise.possibleOutputs())}serialize(){const t=["match",this.input.serialize()],e=Object.keys(this.cases).sort(),n=[],i={};for(const t of e){const e=i[this.cases[t]];void 0===e?(i[this.cases[t]]=n.length,n.push([this.cases[t],[t]])):n[e][1].push(t)}const r=t=>"number"===this.input.type.kind?Number(t):t;for(const[e,i]of n)1===i.length?t.push(r(i[0])):t.push(i.map(r)),t.push(this.outputs[e].serialize());return t.push(this.otherwise.serialize()),t}}var Ht=Jt;class Rt{constructor(t,e,n){this.type=t,this.branches=e,this.otherwise=n}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error("Expected an odd number of arguments.");let n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);const i=[];for(let r=1;r<t.length-1;r+=2){const o=e.parse(t[r],r,F);if(!o)return null;const a=e.parse(t[r+1],r+1,n);if(!a)return null;i.push([o,a]),n=n||a.type}const r=e.parse(t[t.length-1],t.length-1,n);return r?(tt()(n),new Rt(n,i,r)):null}evaluate(t){for(const[e,n]of this.branches)if(e.evaluate(t))return n.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,n]of this.branches)t(e),t(n);t(this.otherwise)}possibleOutputs(){return[].concat(...this.branches.map(([t,e])=>e.possibleOutputs())).concat(this.otherwise.possibleOutputs())}serialize(){const t=["case"];return this.eachChild(e=>{t.push(e.serialize())}),t}}var Vt=Rt;function Xt(t){return"string"===t.kind||"number"===t.kind||"boolean"===t.kind||"null"===t.kind}function Gt(t,e){return class n{constructor(t,e,n){this.type=F,this.lhs=t,this.rhs=e,this.collator=n}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");const i=e.parse(t[1],1,B);if(!i)return null;const r=e.parse(t[2],2,B);if(!r)return null;if(!Xt(i.type)&&!Xt(r.type))return e.error(`Expected at least one argument to be a string, number, boolean, or null, but found (${H(i.type)}, ${H(r.type)}) instead.`);if(i.type.kind!==r.type.kind&&"value"!==i.type.kind&&"value"!==r.type.kind)return e.error(`Cannot compare ${H(i.type)} and ${H(r.type)}.`);let o=null;if(4===t.length){if("string"!==i.type.kind&&"string"!==r.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(o=e.parse(t[3],3,L)))return null}return new n(i,r,o)}evaluate(t){const n=this.collator?0===this.collator.evaluate(t).compare(this.lhs.evaluate(t),this.rhs.evaluate(t)):this.lhs.evaluate(t)===this.rhs.evaluate(t);return e?!n:n}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)}possibleOutputs(){return[!0,!1]}serialize(){const e=[t];return this.eachChild(t=>{e.push(t.serialize())}),e}}}const Wt=Gt("==",!1),Yt=Gt("!=",!0);class Zt{constructor(t){this.type=I,this.input=t}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error(`Expected argument of type string or array, but found ${H(n.type)} instead.`):new Zt(n):null}evaluate(t){const e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new X(`Expected value to be of type string or array, but found ${H(dt(e))} instead.`)}eachChild(t){t(this.input)}possibleOutputs(){return[void 0]}serialize(){const t=["length"];return this.eachChild(e=>{t.push(e.serialize())}),t}}const Kt={"==":Wt,"!=":Yt,array:wt,at:Lt,boolean:vt,case:Vt,coalesce:Ft,collator:pt,interpolate:Z,length:Zt,let:Ut,literal:mt,match:Ht,number:vt,object:vt,step:It,string:vt,"to-color":zt,"to-number":zt,var:Tt};function Qt(t,[e,n,i,r]){e=e.evaluate(t),n=n.evaluate(t),i=i.evaluate(t);const o=r?r.evaluate(t):1,a=ft(e,n,i,o);if(a)throw new X(a);return new p(e/255*o,n/255*o,i/255*o,o)}function te(t,e){return t in e}function ee(t,e){const n=e[t];return void 0===n?null:n}function ne(t,[e,n]){return e.evaluate(t)<n.evaluate(t)}function ie(t,[e,n]){return e.evaluate(t)>n.evaluate(t)}function re(t,[e,n]){return e.evaluate(t)<=n.evaluate(t)}function oe(t,[e,n]){return e.evaluate(t)>=n.evaluate(t)}function ae(t){return{type:t}}St.register(Kt,{error:[{kind:"error"},[P],(t,[e])=>{throw new X(e.evaluate(t))}],typeof:[P,[B],(t,[e])=>H(dt(e.evaluate(t)))],"to-string":[P,[B],(t,[e])=>{const n=typeof(e=e.evaluate(t));return null===e?"":"string"===n||"number"===n||"boolean"===n?String(e):e instanceof p?e.toString():JSON.stringify(e)}],"to-boolean":[F,[B],(t,[e])=>Boolean(e.evaluate(t))],"to-rgba":[J(I,4),[D],(t,[e])=>e.evaluate(t).toArray()],rgb:[D,[I,I,I],Qt],rgba:[D,[I,I,I,I],Qt],has:{type:F,overloads:[[[P],(t,[e])=>te(e.evaluate(t),t.properties())],[[P,U],(t,[e,n])=>te(e.evaluate(t),n.evaluate(t))]]},get:{type:B,overloads:[[[P],(t,[e])=>ee(e.evaluate(t),t.properties())],[[P,U],(t,[e,n])=>ee(e.evaluate(t),n.evaluate(t))]]},properties:[U,[],t=>t.properties()],"geometry-type":[P,[],t=>t.geometryType()],id:[B,[],t=>t.id()],zoom:[I,[],t=>t.globals.zoom],"heatmap-density":[I,[],t=>t.globals.heatmapDensity||0],"line-progress":[I,[],t=>t.globals.lineProgress||0],"+":[I,ae(I),(t,e)=>{let n=0;for(const i of e)n+=i.evaluate(t);return n}],"*":[I,ae(I),(t,e)=>{let n=1;for(const i of e)n*=i.evaluate(t);return n}],"-":{type:I,overloads:[[[I,I],(t,[e,n])=>e.evaluate(t)-n.evaluate(t)],[[I],(t,[e])=>-e.evaluate(t)]]},"/":[I,[I,I],(t,[e,n])=>e.evaluate(t)/n.evaluate(t)],"%":[I,[I,I],(t,[e,n])=>e.evaluate(t)%n.evaluate(t)],ln2:[I,[],()=>Math.LN2],pi:[I,[],()=>Math.PI],e:[I,[],()=>Math.E],"^":[I,[I,I],(t,[e,n])=>Math.pow(e.evaluate(t),n.evaluate(t))],sqrt:[I,[I],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[I,[I],(t,[e])=>Math.log10(e.evaluate(t))],ln:[I,[I],(t,[e])=>Math.log(e.evaluate(t))],log2:[I,[I],(t,[e])=>Math.log2(e.evaluate(t))],sin:[I,[I],(t,[e])=>Math.sin(e.evaluate(t))],cos:[I,[I],(t,[e])=>Math.cos(e.evaluate(t))],tan:[I,[I],(t,[e])=>Math.tan(e.evaluate(t))],asin:[I,[I],(t,[e])=>Math.asin(e.evaluate(t))],acos:[I,[I],(t,[e])=>Math.acos(e.evaluate(t))],atan:[I,[I],(t,[e])=>Math.atan(e.evaluate(t))],min:[I,ae(I),(t,e)=>Math.min(...e.map(e=>e.evaluate(t)))],max:[I,ae(I),(t,e)=>Math.max(...e.map(e=>e.evaluate(t)))],abs:[I,[I],(t,[e])=>Math.abs(e.evaluate(t))],round:[I,[I],(t,[e])=>{const n=e.evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[I,[I],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[I,[I],(t,[e])=>Math.ceil(e.evaluate(t))],"filter-==":[F,[P,B],(t,[e,n])=>t.properties()[e.value]===n.value],"filter-id-==":[F,[B],(t,[e])=>t.id()===e.value],"filter-type-==":[F,[P],(t,[e])=>t.geometryType()===e.value],"filter-<":[F,[P,B],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i==typeof r&&i<r}],"filter-id-<":[F,[B],(t,[e])=>{const n=t.id(),i=e.value;return typeof n==typeof i&&n<i}],"filter->":[F,[P,B],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i==typeof r&&i>r}],"filter-id->":[F,[B],(t,[e])=>{const n=t.id(),i=e.value;return typeof n==typeof i&&n>i}],"filter-<=":[F,[P,B],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i==typeof r&&i<=r}],"filter-id-<=":[F,[B],(t,[e])=>{const n=t.id(),i=e.value;return typeof n==typeof i&&n<=i}],"filter->=":[F,[P,B],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i==typeof r&&i>=r}],"filter-id->=":[F,[B],(t,[e])=>{const n=t.id(),i=e.value;return typeof n==typeof i&&n>=i}],"filter-has":[F,[B],(t,[e])=>e.value in t.properties()],"filter-has-id":[F,[],t=>null!==t.id()],"filter-type-in":[F,[J(P)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],"filter-id-in":[F,[J(B)],(t,[e])=>e.value.indexOf(t.id())>=0],"filter-in-small":[F,[P,J(B)],(t,[e,n])=>n.value.indexOf(t.properties()[e.value])>=0],"filter-in-large":[F,[P,J(B)],(t,[e,n])=>(function(t,e,n,i){for(;n<=i;){const r=n+i>>1;if(e[r]===t)return!0;e[r]>t?i=r-1:n=r+1}return!1})(t.properties()[e.value],n.value,0,n.value.length-1)],">":{type:F,overloads:[[[I,I],ie],[[P,P],ie],[[P,P,L],function(t,[e,n,i]){return i.evaluate(t).compare(e.evaluate(t),n.evaluate(t))>0}]]},"<":{type:F,overloads:[[[I,I],ne],[[P,P],ne],[[P,P,L],function(t,[e,n,i]){return i.evaluate(t).compare(e.evaluate(t),n.evaluate(t))<0}]]},">=":{type:F,overloads:[[[I,I],oe],[[P,P],oe],[[P,P,L],function(t,[e,n,i]){return i.evaluate(t).compare(e.evaluate(t),n.evaluate(t))>=0}]]},"<=":{type:F,overloads:[[[I,I],re],[[P,P],re],[[P,P,L],function(t,[e,n,i]){return i.evaluate(t).compare(e.evaluate(t),n.evaluate(t))<=0}]]},all:{type:F,overloads:[[[F,F],(t,[e,n])=>e.evaluate(t)&&n.evaluate(t)],[ae(F),(t,e)=>{for(const n of e)if(!n.evaluate(t))return!1;return!0}]]},any:{type:F,overloads:[[[F,F],(t,[e,n])=>e.evaluate(t)||n.evaluate(t)],[ae(F),(t,e)=>{for(const n of e)if(n.evaluate(t))return!0;return!1}]]},"!":[F,[F],(t,[e])=>!e.evaluate(t)],"is-supported-script":[F,[P],(t,[e])=>{const n=t.globals&&t.globals.isSupportedScript;return!n||n(e.evaluate(t))}],upcase:[P,[P],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[P,[P],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[P,ae(P),(t,e)=>e.map(e=>e.evaluate(t)).join("")],"resolved-locale":[P,[L],(t,[e])=>e.evaluate(t).resolvedLocale()]});var se=Kt;function ue(t){return{result:"success",value:t}}function le(t){return{result:"error",value:t}}class ce{constructor(t,e){this.expression=t,this._warningHistory={},this._defaultValue=function(t){return"color"===t.type&&K(t.default)?new p(0,0,0,0):"color"===t.type?p.parse(t.default)||null:void 0===t.default?null:t.default}(e),"enum"===e.type&&(this._enumValues=e.values)}evaluateWithoutErrorHandling(t,e){return this._evaluator||(this._evaluator=new Ot),this._evaluator.globals=t,this._evaluator.feature=e,this.expression.evaluate(this._evaluator)}evaluate(t,e){this._evaluator||(this._evaluator=new Ot),this._evaluator.globals=t,this._evaluator.feature=e;try{const t=this.expression.evaluate(this._evaluator);if(null===t||void 0===t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new X(`Expected value to be one of ${Object.keys(this._enumValues).map(t=>JSON.stringify(t)).join(", ")}, but found ${JSON.stringify(t)} instead.`);return t}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}}}function pe(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in se}function fe(t,e){const n=new Mt(se,[],function(t){const e={color:D,string:P,number:I,enum:P,boolean:F};if("array"===t.type)return J(e[t.value]||B,t.length);return e[t.type]||null}(e)),i=n.parse(t);return i?ue(new ce(i,e)):(tt()(n.errors.length>0),le(n.errors))}class de{constructor(t,e){this.kind=t,this._styleExpression=e}evaluateWithoutErrorHandling(t,e){return this._styleExpression.evaluateWithoutErrorHandling(t,e)}evaluate(t,e){return this._styleExpression.evaluate(t,e)}}class ye{constructor(t,e,n){this.kind=t,this.zoomStops=n.labels,this._styleExpression=e,n instanceof Z&&(this._interpolationType=n.interpolation)}evaluateWithoutErrorHandling(t,e){return this._styleExpression.evaluateWithoutErrorHandling(t,e)}evaluate(t,e){return this._styleExpression.evaluate(t,e)}interpolationFactor(t,e,n){return this._interpolationType?Z.interpolationFactor(this._interpolationType,t,e,n):0}}function me(t,e){if("error"===(t=fe(t,e)).result)return t;const n=t.value.expression,i=At(n);if(!i&&!e["property-function"])return le([new st("","property expressions not supported")]);const r=$t(n,["zoom"]);if(!r&&!1===e["zoom-function"])return le([new st("","zoom expressions not supported")]);const o=function t(e){let n=null;if(e instanceof Ut)n=t(e.result);else if(e instanceof Ft){for(const i of e.args)if(n=t(i))break}else(e instanceof It||e instanceof Z)&&e.input instanceof St&&"zoom"===e.input.name&&(n=e);if(n instanceof st)return n;e.eachChild(e=>{const i=t(e);i instanceof st?n=i:!n&&i?n=new st("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&i&&n!==i&&(n=new st("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return n}(n);return o||r?o instanceof st?le([o]):o instanceof Z&&"piecewise-constant"===e.function?le([new st("",'"interpolate" expressions cannot be used with this property')]):ue(o?new ye(i?"camera":"composite",t.value,o):new de(i?"constant":"source",t.value)):le([new st("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}var he=function(t){if(!t)return()=>!0;(function t(e){if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===e.length&&(Array.isArray(e[1])||Array.isArray(e[2]));case"any":case"all":for(const n of e.slice(1))if(!t(n)&&"boolean"!=typeof n)return!1;return!0;default:return!0}})(t)||(t=be(t));const e=fe(t,ge);if("error"===e.result)throw new Error(e.value.map(t=>`${t.key}: ${t.message}`).join(", "));return(t,n)=>e.value.evaluate(t,n)};const ge={type:"boolean",default:!1,function:!0,"property-function":!0,"zoom-function":!0};function ve(t,e){return t<e?-1:t>e?1:0}function be(t){if(!t)return!0;const e=t[0];return t.length<=1?"any"!==e:"=="===e?xe(t[1],t[2],"=="):"!="===e?je(xe(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?xe(t[1],t[2],e):"any"===e?function(t){return["any"].concat(t.map(be))}(t.slice(1)):"all"===e?["all"].concat(t.slice(1).map(be)):"none"===e?["all"].concat(t.slice(1).map(be).map(je)):"in"===e?we(t[1],t.slice(2)):"!in"===e?je(we(t[1],t.slice(2))):"has"===e?ke(t[1]):"!has"!==e||je(ke(t[1]))}function xe(t,e,n){switch(t){case"$type":return[`filter-type-${n}`,e];case"$id":return[`filter-id-${n}`,e];default:return[`filter-${n}`,t,e]}}function we(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",t,["literal",e.sort(ve)]]:["filter-in-small",t,["literal",e]]}}function ke(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function je(t){return["!",t]}var ze=n(2),Ee=n.n(ze);function Oe(t){return t*Math.PI/180}n.d(e,"getValue",function(){return Te});const qe={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Se=function(t,e){const n=me(t,e);if("error"===n.result)throw new Error(n.value.map(t=>`${t.key}: ${t.message}`).join(", "));return n.value},Ae={},$e={zoom:0},_e={};function Te(t,e,n,i,r){const o=t.id;_e[o]||(_e[o]={});const a=_e[o];if(!a[n]){let i=(t[e]||Ae)[n];const r=u[`${e}_${t.type}`][n];void 0===i&&(i=r.default);let o=pe(i);if(!o&&K(i)&&(i=et(i,r),o=!0),o){const t=Se(i,r);a[n]=t.evaluate.bind(t)}else"color"==r.type&&(i=p.parse(i)),a[n]=function(){return i}}return $e.zoom=i,a[n]($e,r)}const Ce={};function Me(t,e,n,i){return t in Ce||(Ce[t]=he(e)),$e.zoom=i,Ce[t]($e,n)}const Ne={};function Ie(t,e){if(t&&void 0!==e){let n=Ne[t];n||(Ne[t]=n={color:t.toArray(),opacity:t.a}),(t=n.color)[3]=n.opacity*e,0===t[3]&&(t=void 0)}return t}const Pe=/^([^]*)\{(.*)\}([^]*)$/;function Fe(t,e){let n;do{if(n=t.match(Pe)){const i=e[n[2]]||"";t=n[1]+i+n[3]}}while(n);return t}e.default=function(t,e,n,i){if(!n){n=[];for(let t=78271.51696402048;n.length<21;t/=2)n.push(t)}if("string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");const r=document.createElement("CANVAS").getContext("2d"),o={};function a(t,e,n){const i=n+","+e+","+t;let a=o[i];if(!a){r.font=e;const s=r.measureText("M").width*n,u=t.split(" ");let l="";const c=[];for(let t=0,e=u.length;t<e;++t){const e=u[t];r.measureText(l+e).width<=s?l+=(l?" ":"")+e:(l&&c.push(l),l=e)}l&&c.push(l),o[i]=a=c.join("\n")}return a}const u=s(t.layers),l={},c=[];let p;for(let t=0,n=u.length;t<n;++t){const n=u[t],i=n.id;if("string"==typeof e&&n.source==e||-1!==e.indexOf(i)){const e=n["source-layer"];p||(p=n.source);let r=l[e];r||(r=l[e]=[]),r.push({layer:n,index:t}),c.push(i)}delete _e[i],delete Ce[i]}const f={},d={},y={},m=[];return function(t,e,r){const o=l[t.layer];if(!o)return;let s=n.indexOf(r);-1==s&&(s=function(t,e){let n=0;const i=e.length;for(;n<i;++n)if(e[n]<t&&n+1<i){const i=e[n]/e[n+1];return n+Math.log(e[n]/t)/Math.log(i)}return i-1}(r,n));const u=qe[e],c={properties:t,type:u};let p=-1;for(let e=0,n=o.length;e<n;++e){const n=o[e],r=n.layer,l=r.id,h=r.layout||Ae,g=r.paint||Ae;if("none"===h.visibility||"minzoom"in r&&s<r.minzoom||"maxzoom"in r&&s>=r.maxzoom)continue;const v=r.filter;if(!v||Me(l,v,c,s)){let e,o,l,v,b,x;const w=n.index;if(3==u&&"fill"==r.type&&(o=Te(r,"paint","fill-opacity",s,c),"fill-pattern"in g||(o=Te(r,"paint","fill-opacity",s,c),(e=Ie(Te(r,"paint","fill-color",s,c),o))&&((x=m[++p])&&x.fill&&!x.stroke&&!x.text||(x=m[p]={fill:{}}),(l=x.fill).color=e,x.zIndex=w),"fill-outline-color"in g&&(b=Ie(Te(r,"paint","fill-outline-color",s,c),o)),b&&((x=m[++p])&&x.stroke&&!x.fill&&!x.text||(x=m[p]={stroke:{}}),(v=x.stroke).color=b,v.width=1,v.lineDash=null,x.zIndex=w))),1!=u){e=!("line-pattern"in g)&&"line-color"in g?Ie(Te(r,"paint","line-color",s,c),Te(r,"paint","line-opacity",s,c)):void 0;const t="line"==r.type?Te(r,"paint","line-width",s,c):1;e&&t>0&&((x=m[++p])&&x.stroke&&!x.fill&&!x.text||(x=m[p]={stroke:{}}),(v=x.stroke).lineCap=Te(r,"layout","line-cap",s,c),v.lineJoin=Te(r,"layout","line-join",s,c),v.miterLimit=Te(r,"layout","line-miter-limit",s,c),v.color=e,v.width=t,v.lineDash=g["line-dasharray"]?Te(r,"paint","line-dasharray",s,c).map(function(e){return e*t}):null,x.zIndex=w)}let k,j,z,E=!1,O=null;if(1==u&&"circle-radius"in g){(x=m[++p])&&x.image&&!x.fill&&!x.stroke||(x=m[p]={});const t=Te(r,"paint","circle-radius",s,c),e=Te(r,"paint","circle-stroke-color",s,c),n=Te(r,"paint","circle-color",s,c),i=Te(r,"paint","circle-opacity",s,c),o=Te(r,"paint","circle-stroke-width",s,c);(k=y[t+"."+e+"."+n+"."+i+"."+o])||(k={type:"circle",radius:t,stroke:0===o?void 0:{width:o,color:Ie(e,i)},fill:{color:Ie(n,i)}}),x.image=k,O=O,x.text=void 0,x.geometry=void 0,x.zIndex=99999-w,E=!0}if("text-field"in h&&(z=Fe(Te(r,"layout","text-field",s,c),t)),z&&!j){E||((x=m[++p])&&x.text&&!x.fill&&!x.stroke||(x=m[p]={}),x.image=void 0,x.geometry=void 0),x.text||(x.text=O||{}),O=x.text;const t=Te(r,"layout","text-size",s,c),e=Te(r,"layout","text-font",s,c),n=Ee()(i?i(e):e,t),l=h["text-transform"];"uppercase"==l?z=z.toUpperCase():"lowercase"==l&&(z=z.toLowerCase());const y=2==u?z:a(z,n,Te(r,"layout","text-max-width",s,c));O.text=y,O.font=n,O.rotation=Oe(Te(r,"layout","text-rotate",s,c));const g=Te(r,"layout","text-anchor",s,c),v=E||1==u?"point":Te(r,"layout","symbol-placement",s,c);if(O.placement=v,"point"==v){let t="center";-1!==g.indexOf("left")?t="left":-1!==g.indexOf("right")&&(t="right"),O.textAlign=t}else O.textAlign=void 0;let b="middle";0==g.indexOf("bottom")?b="bottom":0==g.indexOf("top")&&(b="top"),O.textBaseline=b;const k=Te(r,"layout","text-offset",s,c);O.offsetX=k[0]*t,O.offsetY=k[1]*t,o=Te(r,"paint","text-opacity",s,c),d.color=Ie(Te(r,"paint","text-color",s,c),o),O.fill=d;const j=Ie(Te(r,"paint","text-halo-color",s,c),o);j?(f.color=j,f.width=Te(r,"paint","text-halo-width",s,c),O.stroke=f):O.stroke=void 0,x.zIndex=99999-w}}}return p>-1?(m.length=p+1,m):void 0}}}]).default;
//# sourceMappingURL=stylefunction.js.map